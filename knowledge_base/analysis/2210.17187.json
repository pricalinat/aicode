{
  "paper_id": "2210.17187",
  "title": "Ecommerce Metric Changes",
  "category": "ecommerce_evaluation",
  "year": 2022,
  "timestamp": "2026-03-01T13:56:38.299757",
  "summary": "# Summary: Measuring e-Commerce Metric Changes in Online Experiments\n\nThis paper addresses a critical but often overlooked pitfall in e-commerce A/B testing: the dependency between transaction or item values when randomization occurs at the user level but analysis happens at a more granular transaction or item level. The authors present empirical evidence from three real-world e-commerce datasets demonstrating how this dependency inflates measurement uncertainty and can lead to incorrect conclusions from statistical tests.\n\n## Core Problem and Evidence\n\nWhen e-commerce organizations conduct A/B tests, they typically randomize by user but analyze business metrics like Average Basket Value (ABV), Average Basket Size (ABS), and Average Selling Price (ASP) at the transaction or item level. This creates a mismatch—the values of transactions or items from the same user are correlated, violating the independent and identically distributed (i.i.d.) assumption that standard statistical tests like Student's t-test require.\n\nThe authors analyzed three datasets: ASOS.com proprietary data (4.18 million users, ~9.68 million transactions), UCI Online Retail II (5,852 users, 36,594 transactions), and Olist Brazilian e-Commerce (94,983 users, 98,199 transactions). Kernel density plots reveal strong positive correlation along the x=y diagonal, showing that users tend to make similarly sized and valued transactions over time. *A user's transaction value correlates positively with their next transaction value, creating clusters of dependent data.*\n\n## Impact on A/B Test Decisions\n\nThe standard error (SE) inflation can range from 1x to over 100x depending on the business metric, experiment duration, and dataset. For example, ASP in the UCI dataset shows >100x inflation because many users purchase tens or hundreds of the same product, while ABV and ABS in the Olist dataset show minimal inflation due to only 3.2% of transactions coming from returning users. The bootstrap SE may actually increase over time as returning users create larger clusters of transaction values.\n\nThis inflation directly impacts test outcomes: power drops dramatically (from 80% to ~29% when SE doubles), and confidence intervals become too narrow, increasing false positive rates. *A 95% confidence interval calculated with inflated SE would only have roughly 67% coverage in reality.*\n\n## Mitigation Approaches and Implementation Lessons\n\nThe authors evaluated three mitigation approaches for ASOS's experimentation platform (in production since September 2019):\n\n1. **Bootstrap methods** - One-way user-based bootstrap performs well, mimicking the randomization process and producing correct coverage in A/A tests. Two-way bootstrap for item-based metrics tends to be overly conservative.\n\n2. **Delta method** - More data-efficient but requires group-level statistics and considerable statistical expertise to implement correctly.\n\n3. **Multi-way bootstrap** - Can be excessively conservative, yielding impractically large SE estimates that make designing powerful experiments difficult.\n\nThe key tradeoff is between accuracy and computational cost—bootstrap runtime scales linearly with the number of resamples, and ASOS found B ∈ [500, 1000] provides coefficient of variation under 5%. The authors recommend one-way bootstrap as the practical choice for most e-commerce experiments, while noting that organizations should evaluate whether multi-way bootstrap becomes necessary for experiments with product-treatment interactions.\n\nThe paper concludes by emphasizing that awareness of this dependency issue remains low among e-commerce practitioners, and hopes this evidence will encourage adoption of established mitigation approaches in industry practice.",
  "llm_info": {
    "provider": "cli",
    "model": "cli/claude/sonnet",
    "maxCompletionTokens": null,
    "strategy": "single"
  }
}