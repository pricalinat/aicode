# 图3.6：知识图谱问答系统流程

```
用户问题: "iPhone 15的电池容量是多少？"

┌─────────────────────────────────────────────────────────────────────┐
│  Step 1: 问题解析                                                  │
│  ┌─────────────────────────────────────────────────────────────┐   │
│  │  意图: 查询商品属性                                         │   │
│  │  实体: iPhone 15                                           │   │
│  │  属性: 电池容量                                            │   │
│  └─────────────────────────────────────────────────────────────┘   │
│                           ↓                                         │
│  Step 2: 实体链接                                                 │
│  ┌─────────────────────────────────────────────────────────────┐   │
│  │  "iPhone 15" → 知识图谱实体 [iPhone15]                    │   │
│  │  "电池容量" → 属性 [batteryCapacity]                       │   │
│  └─────────────────────────────────────────────────────────────┘   │
│                           ↓                                         │
│  Step 3: 查询生成                                                 │
│  ┌─────────────────────────────────────────────────────────────┐   │
│  │  SPARQL查询:                                               │   │
│  │  SELECT ?capacity WHERE {                                  │   │
│  │      iphone15 :batteryCapacity ?capacity .                │   │
│  │  }                                                         │   │
│  └─────────────────────────────────────────────────────────────┘   │
│                           ↓                                         │
│  Step 4: 知识查询                                                 │
│  ┌─────────────────────────────────────────────────────────────┐   │
│  │  知识图谱查询结果:                                          │   │
│  │  ?capacity = "3279mAh"                                     │   │
│  └─────────────────────────────────────────────────────────────┘   │
│                           ↓                                         │
│  Step 5: 答案生成                                                 │
│  ┌─────────────────────────────────────────────────────────────┐   │
│  │  "iPhone 15的电池容量是3279mAh。"                          │   │
│  └─────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────┘

更复杂的例子: "iPhone 15和三星S23哪个屏幕更大？"
┌─────────────────────────────────────────────────────────────────────┐
│  需要进行:                                                         │
│  1. 解析两个实体: iPhone 15, 三星S23                               │
│  2. 查询两个实体的屏幕属性                                        │
│  3. 比较大小                                                      │
│  4. 生成比较回答                                                  │
└─────────────────────────────────────────────────────────────────────┘
```
